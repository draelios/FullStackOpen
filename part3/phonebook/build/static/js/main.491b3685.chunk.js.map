{"version":3,"sources":["components/Contact.jsx","components/Agenda.jsx","components/NewPerson.jsx","components/Filter.jsx","Services/services.js","components/Success.jsx","components/Error.jsx","App.js","index.js"],"names":["Contact","person","deletePerson","name","number","type","onClick","id","Agenda","filter","persons","list","pers","toLowerCase","indexOf","map","key","_id","NewPerson","newName","newNumber","onNameChange","onNumberChange","addPerson","onSubmit","value","onChange","Filter","handleFilterChange","style","margin","url","axios","get","newPerson","post","delete","Success","message","className","Notification","App","getPersons","services","then","res","newPersons","data","setPersons","useState","setNewName","setNewNumber","setFilter","errorMessage","setErrorMessage","successMessage","setSuccessMessage","useEffect","Error","event","target","preventDefault","result","setTimeout","catch","error","response","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wPAaeA,EAVC,SAAC,GAA4B,IAA3BC,EAA0B,EAA1BA,OAAQC,EAAkB,EAAlBA,aACxB,OACE,4BACE,4BAAKD,EAAOE,MACZ,4BAAKF,EAAOG,QACZ,4BAAQC,KAAK,SAASC,QAAS,kBAAMJ,EAAaD,EAAOM,MAAzD,aCSSC,EAdA,SAAC,GAAqC,IAApCC,EAAmC,EAAnCA,OAAQC,EAA2B,EAA3BA,QAASR,EAAkB,EAAlBA,aAC1BS,EAAOD,EAAQD,QAAO,SAAAG,GAAI,OAAIA,EAAKT,KAAKU,cAAcC,QAAQL,EAAOI,gBAAkB,KAC7F,OACE,oCACE,sCACA,+BACE,+BACGF,EAAKI,KAAI,SAAAd,GAAM,OAAI,kBAAC,EAAD,CAASe,IAAKf,EAAOgB,IAAKhB,OAAQA,EAAQC,aAAcA,WCYvEgB,EApBG,SAAC,GAAmE,IAAlEC,EAAiE,EAAjEA,QAASC,EAAwD,EAAxDA,UAAWC,EAA6C,EAA7CA,aAAcC,EAA+B,EAA/BA,eAAgBC,EAAe,EAAfA,UACpE,OACE,oCACE,kDACA,0BAAMC,SAAUD,GACd,sCACQ,2BAAOE,MAAON,EAASO,SAAUL,KAEzC,wCACU,2BAAOI,MAAOL,EAAWM,SAAUJ,KAE7C,6BACE,4BAAQjB,KAAK,UAAb,WCMKsB,EAlBA,SAAC,GAAkC,IAAjClB,EAAgC,EAAhCA,OAAQmB,EAAwB,EAAxBA,mBACvB,OACE,oCACE,yCACA,gDAEE,2BACEvB,KAAK,OACLwB,MAAO,CAACC,OAAQ,QAChBL,MAAQhB,EACRiB,SAAUE,O,gBCRbG,EAFO,+CAkBC,EAbA,WACb,OAAOC,IAAMC,IAAN,UAAaF,EAAb,kBAYM,EATM,SAACG,GACpB,OAAOF,IAAMG,KAAN,UAAcJ,EAAd,gBAAiCG,IAQ3B,EALG,SAAC3B,GACjB,OAAOyB,IAAMI,OAAN,UAAgBL,EAAhB,wBAAmCxB,KCF7B8B,EAZC,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACjB,OAAgB,OAAZA,EACK,KAIP,yBAAKC,UAAU,WACZD,ICKQE,EAZM,SAAC,GAAiB,IAAfF,EAAc,EAAdA,QACtB,OAAgB,OAAZA,EACK,KAIP,yBAAKC,UAAU,SACZD,IC2FQG,G,MA3FH,WAEV,IAAMC,EAAa,WACjBC,IACCC,MAAK,SAAAC,GACJ,IAAMC,EAAU,YAAOD,EAAIE,MAC3BC,EAAWF,OANC,EAUgBG,mBAAS,IAVzB,mBAURvC,EAVQ,KAUCsC,EAVD,OAWgBC,mBAAS,IAXzB,mBAWR9B,EAXQ,KAWC+B,EAXD,OAYoBD,mBAAS,IAZ7B,mBAYR7B,EAZQ,KAYG+B,EAZH,OAacF,mBAAS,IAbvB,mBAaRxC,EAbQ,KAaA2C,EAbA,OAcyBH,mBAAS,MAdlC,mBAcRI,EAdQ,KAcMC,EAdN,OAe6BL,mBAAS,MAftC,mBAeRM,EAfQ,KAeQC,EAfR,KAiBhBC,oBAAUf,EAAY,IAyDtB,OACE,6BACE,kBAAC,EAAD,CAASJ,QAASiB,IAClB,kBAACG,EAAD,CAAOpB,QAASe,IAChB,kBAAC,EAAD,CAAQ5C,OAAQA,EAAQmB,mBARD,SAAC+B,GAC1BP,EAAUO,EAAMC,OAAOnC,UAQrB,kBAAC,EAAD,CACEN,QAASA,EACTC,UAAWA,EACXC,aApBmB,SAACsC,GACxBT,EAAWS,EAAMC,OAAOnC,QAoBpBH,eAjBqB,SAACqC,GAC1BR,EAAaQ,EAAMC,OAAOnC,QAiBtBF,UAjEY,SAACoC,GACjBA,EAAME,iBAONlB,EALkB,CAChBxC,KAAMgB,EACNf,OAAQgB,IAIPwB,MAAK,SAAAkB,GACJZ,EAAW,IACXC,EAAa,IACbK,EAAkB,GAAD,OAAIrC,EAAJ,8BACjB4C,YAAW,WACTP,EAAkB,QACjB,KACHd,OAEFsB,OAAM,SAACC,GACPX,EAAgBW,EAAMC,SAASnB,MAC/BgB,YAAW,WACPT,EAAgB,QACjB,WA6CH,kBAAC,EAAD,CAAQ7C,OAAQA,EAAQC,QAASA,EAASR,aAzCzB,SAACK,GACpBoC,EAAmBpC,GAClBqC,MAAK,SAACkB,GACLpB,IACAc,EAAkB,gCAClBO,YAAW,WACPP,EAAkB,QACnB,QAEJQ,OAAM,SAACC,GACNX,EAAgBW,EAAMC,SAASnB,MAC/BgB,YAAW,WACPT,EAAgB,QACjB,cC9DTa,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.491b3685.chunk.js","sourcesContent":["import React from 'react'\n\n\nconst Contact = ({person, deletePerson}) => {\n  return(\n    <tr>\n      <td>{person.name}</td>\n      <td>{person.number}</td>\n      <button type='button' onClick={() => deletePerson(person.id)}> delete</button>\n    </tr>    \n  )\n}\n\nexport default Contact;\n\n","import React from 'react'\nimport Contact from './Contact'\n\nconst Agenda = ({filter, persons, deletePerson}) => {\n  const list = persons.filter(pers => pers.name.toLowerCase().indexOf(filter.toLowerCase()) > -1)\n  return (\n    <>\n      <h2>Agenda</h2>\n      <table>\n        <tbody>\n          {list.map(person => <Contact key={person._id} person={person} deletePerson={deletePerson}/>)}\n        </tbody>\n      </table>\n    </>\n  )\n}\n\nexport default Agenda;","import React from 'react'\n\nconst NewPerson = ({newName, newNumber, onNameChange, onNumberChange, addPerson}) => {\n  return (\n    <>\n      <h2>Add a new contact:</h2>\n      <form onSubmit={addPerson}>\n        <div>\n          name: <input value={newName} onChange={onNameChange} />\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={onNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\" >add</button>\n        </div>\n      </form>\n    </>\n  )\n\n}\n\nexport default NewPerson;","import React from 'react'\n\nconst Filter = ({filter, handleFilterChange}) => {\n  return (\n    <>\n      <h1>Phonebook</h1>\n      <form >\n        Search contact: \n        <input \n          type=\"text\" \n          style={{margin: \"10px\"}}\n          value= {filter}\n          onChange={handleFilterChange}\n        >\n        </input>\n      </form>\n    </>\n  )\n}\n\nexport default Filter;","import axios from 'axios';\r\n\r\n const PROD = 'https://phonebook-fullstack-ac.herokuapp.com';\r\n const DEV = 'http://localhost:3001';\r\n const url = process.env.NODE_ENV === 'production' ? PROD : DEV \r\n\r\n\r\nconst getAll = () => {\r\n  return axios.get(`${url}/api/persons`)\r\n};\r\n\r\nconst createPerson = (newPerson) => {\r\n  return axios.post(`${url}/api/persons`, newPerson)\r\n};\r\n\r\nconst deleteOne = (id) => {\r\n  return axios.delete(`${url}/api/persons/${id}`)\r\n};\r\n\r\n\r\nexport default {getAll, createPerson, deleteOne};\r\n","import React from 'react'\n\nconst Success = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className='success' >\n      {message}\n    </div>\n  )\n}\n\nexport default Success;","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className='error' >\n      {message}\n    </div>\n  )\n}\n\nexport default Notification;","import React, { useState, useEffect } from 'react'\nimport Agenda from './components/Agenda.jsx'\nimport NewPerson from './components/NewPerson.jsx'\nimport Filter from './components/Filter.jsx'\nimport services from './Services/services.js';\nimport Success from './components/Success.jsx';\nimport Error from './components/Error.jsx';\nimport './App.css';\n\nconst App = () => {\n\n  const getPersons = () =>{\n    services.getAll()\n    .then(res => {\n      const newPersons = [...res.data];\n      setPersons(newPersons);\n    });\n  };\n\n  const [ persons, setPersons ] = useState([]) ;\n  const [ newName, setNewName ] = useState('');\n  const [ newNumber, setNewNumber ] = useState('');\n  const [ filter, setFilter ] = useState('');\n  const [ errorMessage, setErrorMessage] = useState(null);\n  const [ successMessage, setSuccessMessage] = useState(null);\n\n  useEffect(getPersons, []); \n\n  const addPerson = (event) => {\n    event.preventDefault();\n\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    };\n\n    services.createPerson(newPerson)\n      .then(result => {\n        setNewName('');\n        setNewNumber('');\n        setSuccessMessage(`${newName} was created successfully`);\n        setTimeout(() => {\n          setSuccessMessage(null)\n        }, 5000)\n        getPersons();\n      })\n     .catch((error) => {\n      setErrorMessage(error.response.data);\n      setTimeout(() => {\n          setErrorMessage(null)\n      }, 5000)\n      })\n  };\n\n  const deletePerson = (id) => {\n    services.deleteOne(id)\n    .then((result) => {\n      getPersons();\n      setSuccessMessage(`Contact deleted successfully`);\n      setTimeout(() => {\n          setSuccessMessage(null)\n      }, 5000)\n    })\n    .catch((error) => {\n      setErrorMessage(error.response.data);\n      setTimeout(() => {\n          setErrorMessage(null)\n      }, 5000)\n    })\n  };\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value);\n  };\n\n  return (\n    <div>\n      <Success message={successMessage} />\n      <Error message={errorMessage} />\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n      <NewPerson \n        newName={newName} \n        newNumber={newNumber} \n        onNameChange={handleNameChange}\n        onNumberChange={handleNumberChange}\n        addPerson={addPerson}\n      />\n      <Agenda filter={filter} persons={persons} deletePerson={deletePerson} />\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}